execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~ ~1 ~ {Tags:["exp.portal_main","exp.block","exp.portal_stand","smithed.block"],Marker:0b,Rotation:[180f],DisabledSlots:2039583,NoGravity:1b,Invulnerable:1b,Invisible:1b}

execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~ ~2.2753 ~ {Tags:["exp.portal_top","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],NoGravity:1b,Invulnerable:1b,Invisible:1b,ArmorItems:[{},{},{},{id:"minecraft:carrot_on_a_stick",Count:1b,tag:{CustomModelData:1012600}}]}
execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~ ~0.5 ~ {Tags:["exp.portal_bottom","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],NoGravity:1b,Invulnerable:1b,Invisible:1b,ArmorItems:[{},{},{},{id:"minecraft:carrot_on_a_stick",Count:1b,tag:{CustomModelData:1012601}}]}
execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~-1.758 ~1.1425 ~ {Tags:["exp.portal_right","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],NoGravity:1b,Invulnerable:1b,Invisible:1b,ArmorItems:[{},{},{},{id:"minecraft:carrot_on_a_stick",Count:1b,tag:{CustomModelData:1012602}}]}
execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~1.758 ~1.1425 ~ {Tags:["exp.portal_left","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],NoGravity:1b,Invulnerable:1b,Invisible:1b,ArmorItems:[{},{},{},{id:"minecraft:carrot_on_a_stick",Count:1b,tag:{CustomModelData:1012603}}]}

execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~1.69 ~0.42 ~ {Tags:["exp.core_port","exp.port_1","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],NoGravity:1b,Invulnerable:1b,Invisible:1b}
execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~1.02 ~1.69 ~ {Tags:["exp.core_port","exp.port_2","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],Pose:{Head:[0f,0f,-45f]},NoGravity:1b,Invulnerable:1b,Invisible:1b}
execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~ ~2.115 ~ {Tags:["exp.core_port","exp.port_3","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],NoGravity:1b,Invulnerable:1b,Invisible:1b}
execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~-1.02 ~1.69 ~ {Tags:["exp.core_port","exp.port_4","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],Pose:{Head:[0f,0f,45f]},NoGravity:1b,Invulnerable:1b,Invisible:1b}
execute align xyz positioned ~0.5 ~ ~0.5 run summon armor_stand ~-1.69 ~0.42 ~ {Tags:["exp.core_port","exp.port_5","exp.portal_stand","smithed.block"],Marker:0b,DisabledSlots:2039583,Rotation:[180f],NoGravity:1b,Invulnerable:1b,Invisible:1b}

execute align xyz positioned ~0.5 ~ ~0.5 run summon villager ~ ~2.8 ~ {NoGravity:1b,Silent:1b,NoAI:1b,Tags:["exp.portal_core_rcdet","smithed.block"],PersistenceRequired:1b,Invulnerable:1b,ActiveEffects:[{Id:11,Amplifier:5b,Duration:99999999,ShowParticles:0b},{Id:14,Amplifier:1b,Duration:99999999,ShowParticles:0b}]}
execute align xyz positioned ~0.5 ~ ~0.5 run summon villager ~1.758 ~1.1 ~ {NoGravity:1b,Silent:1b,NoAI:1b,Tags:["exp.portal_core_rcdet","smithed.block"],PersistenceRequired:1b,Invulnerable:1b,ActiveEffects:[{Id:11,Amplifier:5b,Duration:99999999,ShowParticles:0b},{Id:14,Amplifier:1b,Duration:99999999,ShowParticles:0b}]}
execute align xyz positioned ~0.5 ~ ~0.5 run summon villager ~-1.758 ~1.1 ~ {NoGravity:1b,Silent:1b,NoAI:1b,Tags:["exp.portal_core_rcdet","smithed.block"],PersistenceRequired:1b,Invulnerable:1b,ActiveEffects:[{Id:11,Amplifier:5b,Duration:99999999,ShowParticles:0b},{Id:14,Amplifier:1b,Duration:99999999,ShowParticles:0b}]}
execute align xyz positioned ~0.5 ~ ~0.5 run summon villager ~-1.2 ~2.5 ~ {NoGravity:1b,Silent:1b,NoAI:1b,Tags:["exp.portal_core_rcdet","smithed.block"],PersistenceRequired:1b,Invulnerable:1b,ActiveEffects:[{Id:11,Amplifier:5b,Duration:99999999,ShowParticles:0b},{Id:14,Amplifier:1b,Duration:99999999,ShowParticles:0b}]}
execute align xyz positioned ~0.5 ~ ~0.5 run summon villager ~1.2 ~2.5 ~ {NoGravity:1b,Silent:1b,NoAI:1b,Tags:["exp.portal_core_rcdet","smithed.block"],PersistenceRequired:1b,Invulnerable:1b,ActiveEffects:[{Id:11,Amplifier:5b,Duration:99999999,ShowParticles:0b},{Id:14,Amplifier:1b,Duration:99999999,ShowParticles:0b}]}

fill ~-1 ~ ~ ~1 ~ ~ minecraft:barrier keep
scoreboard players set @e[type=armor_stand,tag=exp.portal_main,limit=1,sort=nearest] exp.hold_value 0
