# buggy
execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:1b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{buggy_wheel:1b}},count:1},{Slot:2b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{steel_plate:1b}},count:1},{Slot:3b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{steel_plate:1b}},count:1},{Slot:4b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{buggy_wheel:1b}},count:1},{Slot:10b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{elektromotor:1b}},count:1},{Slot:11b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{complex_mechanism:1b}},count:1},{Slot:12b,id:"minecraft:carrot_on_a_stick",components:{"minecraft:custom_data":{oxygen_tank:1b}},count:1},{Slot:13b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{elektromotor:1b}},count:1},{Slot:19b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{buggy_wheel:1b}},count:1},{Slot:20b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{steel_plate:1b}},count:1},{Slot:21b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{steel_plate:1b}},count:1},{Slot:22b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{buggy_wheel:1b}},count:1}]} run function expansion:vehicles/buggy/craft
# spaceship
execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:3b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_nose:1b}},count:1},{Slot:11b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_left_wing:1b}},count:1},{Slot:12b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_cockpit:1b}},count:1},{Slot:13b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_right_wing:1b}},count:1},{Slot:21b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_engines:1b}},count:1}]} run loot replace entity @s weapon.mainhand loot expansion:vehicles/spaceship
execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:2b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_nose:1b}},count:1},{Slot:10b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_left_wing:1b}},count:1},{Slot:11b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_cockpit:1b}},count:1},{Slot:12b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_right_wing:1b}},count:1},{Slot:20b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{spaceship_engines:1b}},count:1}]} run loot replace entity @s weapon.mainhand loot expansion:vehicles/spaceship
# railgun
execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:1b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{complex_mechanism:1b}},count:1},{Slot:2b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_plate:1b}},count:1},{Slot:3b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:4b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:10b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_plate:1b}},count:1},{Slot:11b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{electromagnet:1b}},count:1},{Slot:12b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{electromagnet:1b}},count:1},{Slot:13b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{electromagnet:1b}},count:1},{Slot:19b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{circuit_board:1b}},count:1},{Slot:20b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_plate:1b}},count:1},{Slot:21b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:22b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1}]} run loot replace entity @s weapon.mainhand loot expansion:weapons/railgun
# cryoblaster
execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:1b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_plate:1b}},count:1},{Slot:2b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:10b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{circuit_board:1b}},count:1},{Slot:11b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{cooling_element:1b}},count:1},{Slot:12b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:13b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:19b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{complex_mechanism:1b}},count:1},{Slot:20b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},]} run loot replace entity @s weapon.mainhand loot expansion:tools/cryoblaster
# pet drone
execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:2b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:3b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:10b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{monochrome_monitor:1b}},count:1},{Slot:11b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{ai_core:1b}},count:1},{Slot:12b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{circuit_board:1b}},count:1},{Slot:13b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:20b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},{Slot:21b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1}]} run loot replace entity @s weapon.mainhand loot expansion:tools/pet_drone

# code to copy the output item into an armor slot for later reference
data modify entity @s ArmorItems[0] set from entity @s HandItems[0]
data remove entity @s HandItems[0]

# handy template
#execute if block ~ ~ ~ minecraft:barrel{Items:[
#{Slot:1b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_plate:1b}},count:1},
#{Slot:2b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},
#{Slot:3b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},
#{Slot:4b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},

#{Slot:10b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{circuit_board:1b}},count:1},
#{Slot:11b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{cooling_element:1b}},count:1},
#{Slot:12b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},
#{Slot:13b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},

#{Slot:19b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{complex_mechanism:1b}},count:1},
#{Slot:20b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},
#{Slot:21b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1},
#{Slot:22b,id:"minecraft:jigsaw",components:{"minecraft:custom_data":{amethonium_ingot:1b}},count:1}
#]} run loot replace entity @s weapon.mainhand loot expansion:weapons/railgun
